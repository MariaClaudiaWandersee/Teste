{"ast":null,"code":"import _defineProperty from\"C:/xampp/htdocs/crud_node/client/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _objectSpread from\"C:/xampp/htdocs/crud_node/client/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"C:/xampp/htdocs/crud_node/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState}from\"react\";import Button from\"@material-ui/core/Button\";import TextField from\"@material-ui/core/TextField\";import Dialog from\"@material-ui/core/Dialog\";import DialogActions from\"@material-ui/core/DialogActions\";import DialogContent from\"@material-ui/core/DialogContent\";import DialogTitle from\"@material-ui/core/DialogTitle\";import Axios from\"axios\";//import produce from \"immer\";\nimport{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function FormDialog(props){var _useState=useState({id:props.id,name:props.title,cost:props.cost,category:props.category}),_useState2=_slicedToArray(_useState,2),editValues=_useState2[0],setEditValues=_useState2[1];var handleChangeValues=function handleChangeValues(values){setEditValues(function(prevValues){return _objectSpread(_objectSpread({},prevValues),{},_defineProperty({},values.target.id,values.target.value));});};var handleClose=function handleClose(){props.setOpen(false);};var handleEditGame=function handleEditGame(){Axios.put(\"http://localhost:3001/edit\",{id:editValues.id,name:editValues.name,cost:editValues.cost,category:editValues.category}).then(function(){props.setListCard(props.listCard.map(function(value){return value.id===editValues.id?{id:editValues.id,name:editValues.name,cost:editValues.cost,category:editValues.category}:value;}));});handleClose();};var handleDeleteGame=function handleDeleteGame(){Axios.delete(\"http://localhost:3001/delete/\".concat(editValues.id)).then(function(){props.setListCard(props.listCard.filter(function(value){return value.id!==editValues.id;}));});handleClose();};return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(Dialog,{open:props.open,onClose:handleClose,\"aria-labelledby\":\"form-dialog-title\",children:[/*#__PURE__*/_jsx(DialogTitle,{id:\"form-dialog-title\",children:\"Editar\"}),/*#__PURE__*/_jsxs(DialogContent,{children:[/*#__PURE__*/_jsx(TextField,{disabled:true,margin:\"dense\",id:\"id\",label:\"id\",defaultValue:props.id,type:\"text\",fullWidth:true}),/*#__PURE__*/_jsx(TextField,{autoFocus:true,margin:\"dense\",id:\"name\",label:\"Nome do jogo\",defaultValue:props.title,type:\"text\",onChange:handleChangeValues,fullWidth:true}),/*#__PURE__*/_jsx(TextField,{autoFocus:true,margin:\"dense\",id:\"cost\",label:\"pre\\xE7o\",defaultValue:props.cost,type:\"number\",onChange:handleChangeValues,fullWidth:true}),/*#__PURE__*/_jsx(TextField,{autoFocus:true,margin:\"dense\",id:\"category\",label:\"Categoria\",defaultValue:props.category,type:\"text\",onChange:handleChangeValues,fullWidth:true})]}),/*#__PURE__*/_jsxs(DialogActions,{children:[/*#__PURE__*/_jsx(Button,{onClick:handleClose,color:\"primary\",children:\"Cancel\"}),/*#__PURE__*/_jsx(Button,{color:\"primary\",onClick:function onClick(){return handleDeleteGame();},children:\"Excluir\"}),/*#__PURE__*/_jsx(Button,{color:\"primary\",onClick:function onClick(){return handleEditGame();},children:\"Salvar\"})]})]})});}","map":{"version":3,"names":["React","useState","Button","TextField","Dialog","DialogActions","DialogContent","DialogTitle","Axios","FormDialog","props","id","name","title","cost","category","editValues","setEditValues","handleChangeValues","values","prevValues","target","value","handleClose","setOpen","handleEditGame","put","then","setListCard","listCard","map","handleDeleteGame","delete","filter","open"],"sources":["C:/xampp/htdocs/crud_node/client/src/components/dialog/dialogForms.js"],"sourcesContent":["import React, { useState } from \"react\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport Dialog from \"@material-ui/core/Dialog\";\r\nimport DialogActions from \"@material-ui/core/DialogActions\";\r\nimport DialogContent from \"@material-ui/core/DialogContent\";\r\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\r\nimport Axios from \"axios\";\r\n//import produce from \"immer\";\r\n\r\nexport default function FormDialog(props) {\r\n  const [editValues, setEditValues] = useState({\r\n    id: props.id,\r\n    name: props.title,\r\n    cost: props.cost,\r\n    category: props.category,\r\n  });\r\n\r\n  const handleChangeValues = (values) => {\r\n    setEditValues((prevValues) => ({\r\n      ...prevValues,\r\n      [values.target.id]: values.target.value,\r\n    }));\r\n  };\r\n\r\n  const handleClose = () => {\r\n    props.setOpen(false);\r\n  };\r\n\r\n  const handleEditGame = () => {\r\n    Axios.put(\"http://localhost:3001/edit\", {\r\n      id: editValues.id,\r\n      name: editValues.name,\r\n      cost: editValues.cost,\r\n      category: editValues.category,\r\n    }).then(() => {\r\n      props.setListCard(\r\n        props.listCard.map((value) => {\r\n          return value.id === editValues.id\r\n            ? {\r\n                id: editValues.id,\r\n                name: editValues.name,\r\n                cost: editValues.cost,\r\n                category: editValues.category,\r\n              }\r\n            : value;\r\n        })\r\n      );\r\n    });\r\n    handleClose();\r\n  };\r\n\r\n  const handleDeleteGame = () => {\r\n    Axios.delete(`http://localhost:3001/delete/${editValues.id}`).then(() => {\r\n      props.setListCard(\r\n        props.listCard.filter((value) => {\r\n          return value.id !== editValues.id;\r\n        })\r\n      );\r\n    });\r\n    handleClose();\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <Dialog\r\n        open={props.open}\r\n        onClose={handleClose}\r\n        aria-labelledby=\"form-dialog-title\"\r\n      >\r\n        <DialogTitle id=\"form-dialog-title\">Editar</DialogTitle>\r\n        <DialogContent>\r\n          <TextField \r\n            disabled\r\n            margin=\"dense\"\r\n            id=\"id\"\r\n            label=\"id\"\r\n            defaultValue={props.id}\r\n            type=\"text\"\r\n            fullWidth\r\n          />\r\n          <TextField\r\n            autoFocus\r\n            margin=\"dense\"\r\n            id=\"name\"\r\n            label=\"Nome do jogo\"\r\n            defaultValue={props.title}\r\n            type=\"text\"\r\n            onChange={handleChangeValues}\r\n            fullWidth\r\n          />\r\n          <TextField\r\n            autoFocus\r\n            margin=\"dense\"\r\n            id=\"cost\"\r\n            label=\"preÃ§o\"\r\n            defaultValue={props.cost}\r\n            type=\"number\"\r\n            onChange={handleChangeValues}\r\n            fullWidth\r\n          />\r\n          <TextField\r\n            autoFocus\r\n            margin=\"dense\"\r\n            id=\"category\"\r\n            label=\"Categoria\"\r\n            defaultValue={props.category}\r\n            type=\"text\"\r\n            onChange={handleChangeValues}\r\n            fullWidth\r\n          />\r\n        </DialogContent>\r\n        <DialogActions>\r\n          <Button onClick={handleClose} color=\"primary\">\r\n            Cancel\r\n          </Button>\r\n          <Button color=\"primary\" onClick={() => handleDeleteGame()}>\r\n            Excluir\r\n          </Button>\r\n          <Button color=\"primary\" onClick={() => handleEditGame()}>\r\n            Salvar\r\n          </Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n    </div>\r\n  );\r\n}"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}